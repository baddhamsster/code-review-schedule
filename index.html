<!DOCTYPE html>
<html>
<head>
  <title>Code Review Schedule</title>
  <style>
    body {
      background-color: #f1f1f1;
      font-family: Arial, sans-serif;
      color: #333;
    }

    h1 {
      text-align: center;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <ul id="schedule"></ul>
  <script>
    const devs = ["Nick", "Casey", "Brian", "Tanner", "John", "Micah", "Lily", "Dillon"];

    function getWeekNumber(date) {
      const currentDate = new Date(date);
      currentDate.setHours(0, 0, 0, 0);

      const wednesday = 3; // Wednesday (0 - Sunday, 1 - Monday, ..., 6 - Saturday)
      const currentDay = currentDate.getDay() - 18; // This aligns it with the order we started on (17/22/2023)

      let daysUntilWednesday = wednesday - currentDay;
      if (daysUntilWednesday < 0) {
        daysUntilWednesday += 7; // Add 7 days to reach next Wednesday
      }

      const targetDate = new Date(currentDate.getTime() + daysUntilWednesday * 86400000);
      const firstDayOfYear = new Date(targetDate.getFullYear(), 0, 1);
      const pastDaysOfYear = (targetDate - firstDayOfYear) / 86400000;

      return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);
    }

    function printSchedule() {
      const week = getWeekNumber(new Date());
      const doubleDevs = [...devs, ...devs];
      const scheduleList = document.getElementById('schedule');
      scheduleList.innerHTML = '';

      const printLine = (i) => {
        if (i < devs.length) {
          const reviewerIndex = (i + week) % devs.length;
          const listItem = document.createElement('li');
          scheduleList.appendChild(listItem);

          // Simulate typing effect
          const reviewText = `${doubleDevs[i]} reviews ${doubleDevs[reviewerIndex]}`;
          typeOutText(listItem, reviewText, () => printLine(i + 1));
        }
      };

      printLine(0);
    }

    function typeOutText(element, text, callback) {
      let index = 0;

      function type() {
        if (index < text.length) {
          element.textContent += text.charAt(index);
          index++;
          setTimeout(type, getRandomDelay());
        } else {
          callback();
        }
      }

      type();
    }

    function getRandomDelay() {
      // Adjust the typing speed here (in milliseconds)
      const minDelay = 10;
      const maxDelay = 60;
      return Math.random() * (maxDelay - minDelay) + minDelay;
    }

    // Automatically print the schedule
    printSchedule();
  </script>
</body>
</html>
